<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>FABFitsReader</title>
<meta http-equiv="content-type"
	content="text/html; charset=windows-1252">

<link rel="stylesheet" type="text/css" href="style.css">

<script src="ColorMaps.js"></script>
<script src="FabFitsReader.js"></script>


<script>

	var reader;

	function handleChange(myRadio){

		let cme = document.getElementById("colorMaps");
		let colorMap = cme.options[cme.selectedIndex].value;
		
		let tfe = document.getElementById("transFunction");
		let tFunction = tfe.options[tfe.selectedIndex].value;
		
		document.getElementById('imgDiv').innerHTML = "nothing!";
		reader = new FabFitsReader(myRadio.value, colorMap, tFunction, -3.034, 5.47, function (img) {
			document.getElementById('imgDiv').innerHTML = "<img src="+img.src+">";
		});
	
	}

	function changeColorMap() {
		
		let e = document.getElementById("colorMaps");
		let strUser = e.options[e.selectedIndex].value;
		reader.applyColorMap(strUser);
		document.getElementById('imgDiv').innerHTML = "<img src="+reader.img.src+">";
	}

	function changeTransFunction(){
		let e = document.getElementById("transFunction");
		let strUser = e.options[e.selectedIndex].value;
		reader.applyTransferFunction(strUser);
		document.getElementById('imgDiv').innerHTML = "<img src="+reader.img.src+">";
	}

</script>
</head>
<body>

<label for='url'>FITS URL: </label>
<input type='text' name='url' id='url' size='100'/>
<input type='button' name='urlButton' onclick="loadFromURL();" value='go'/>
<br><br><br>

<div>
	<label for="colorMaps">Choose a color map:</label>

	<select name="colorMaps" id="colorMaps" class="colorMaps" onchange="changeColorMap()">
	    <option value="planck">Planck</option>
	    <option value="grayscale">Grayscale</option>
	    <option value="eosb">EOSB</option>
	    <option value="rainbow">Rainbow</option>
	    <option value="cmb">CMB</option>
	    <option value="cubehelix">Cubehelix</option>
	</select>

</div>
<br>
<div>
	<label for="transFunction">Choose a color map:</label>

	<select name="transFunction" id="transFunction" class="transFunction" onchange="changeTransFunction()">
	    <option value="linear">linear</option>
	    <option value="log">log</option>
	    <option value="sqrt">sqrt</option>
	</select>

</div>
<br>
<br>

<div id='imgDiv'>
</div>

<br>
<br>



<!--  http://skies.esac.esa.int/pla/LFI_SkyMap_070_1024_R3_00_full_smooth_HiPS/Norder3/Dir0/Npix293.png -->
<!--  http://skies.esac.esa.int/pla/LFI_SkyMap_070_1024_R3_00_full_smooth_HiPS/Norder3/Dir0/Npix293.fits -->
<input type='radio' name='fits' onclick="handleChange(this);" id='1' value='http://localhost/~lavorofab/javascript/FITSOnTheWeb/input/planck/lfi-070-smooth/Npix293.fits' onChange>
<label for='1'>Planck lfi-070-smooth sample 1 (npix293)</label>
<br>
<!--  http://skies.esac.esa.int/pla/LFI_SkyMap_070_1024_R3_00_full_smooth_HiPS/Norder3/Dir0/Npix304.png -->
<!--  http://skies.esac.esa.int/pla/LFI_SkyMap_070_1024_R3_00_full_smooth_HiPS/Norder3/Dir0/Npix304.fits -->
<input type='radio' name='fits' onclick="handleChange(this);" id='2' value='http://localhost/~lavorofab/javascript/FITSOnTheWeb/input/planck/lfi-070-smooth/Npix304.fits'>
<label for='2'>Planck lfi-070-smooth sample 2 (npix304)</label>
<br>
<!--  http://skies.esac.esa.int/Herschel/normalized/hips250_pnorm_allsky/Norder3/Dir0/Npix278.png -->
<!--  http://skies.esac.esa.int/Herschel/normalized/hips250_pnorm_allsky/Norder3/Dir0/Npix278.fits -->
<input type='radio' name='fits' onclick="handleChange(this);" id='3' value='http://localhost/~lavorofab/javascript/FITSOnTheWeb/input/herschel/spire250norm/Npix278.fits'>
<label for='3'>Herschel hips250_pnorm_allsky sample 1 (npix278)</label>
<br>
<input type='radio' name='fits' onclick="handleChange(this);" id='4' value='http://localhost/~lavorofab/javascript/FITSOnTheWeb/input/herschel/spire250norm/Npix281.fits'>
<label for='4'>Herschel hips250_pnorm_allsky sample 2 (npix281)</label>
<br>
<input type='radio' name='fits' onclick="handleChange(this);" id='5' value='http://localhost/~lavorofab/javascript/FITSOnTheWeb/input/herschel/spire250norm/Npix282.fits'>
<label for='5'>Herschel hips250_pnorm_allsky sample 3 (npix282)</label>
<br>
<input type='radio' name='fits' onclick="handleChange(this);" id='2' value='http://localhost/~lavorofab/javascript/FITSOnTheWeb/input/planck/unknown/Npix19.fits'>
<label for='6'>Planck unknown sample 1 (npix19)</label>
<br>
<input type='radio' name='fits' onclick="handleChange(this);" id='2' value='http://localhost/~lavorofab/javascript/FITSOnTheWeb/input/planck/unknown/Npix31.fits'>
<label for='7'>Planck unknown sample 2 (npix31)</label>
<br>
<input type='radio' name='fits' onclick="handleChange(this);" id='2' value='http://localhost/~lavorofab/javascript/FITSOnTheWeb/input/planck/unknown/Npix237.fits'>
<label for='8'>Planck unknown sample 3 (npix237)</label>
<br>
<input type='radio' name='fits' onclick="handleChange(this);" id='2' value='http://localhost/~lavorofab/javascript/FITSOnTheWeb/input/planck/unknown/Npix259.fits'>
<label for='9'>Planck unknown sample 4 (npix259)</label>
<br>
<input type='radio' name='fits' onclick="handleChange(this);" id='2' value='http://localhost/~lavorofab/javascript/FITSOnTheWeb/input/planck/unknown/Npix356.fits'>
<label for='10'>Planck unknown sample 5 (npix356)</label>
<br>
<input type='radio' name='fits' onclick="handleChange(this);" id='2' value='http://localhost/~lavorofab/javascript/FITSOnTheWeb/input/planck/unknown/Npix416.fits'>
<label for='11'>Planck unknown sample 6 (npix416)</label>
<br>




</body>
</html>